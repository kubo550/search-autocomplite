{"version":3,"sources":["state/user/userReducer.ts","state/rootReducer.ts","components/Loading/Loading.module.scss","components/SearchAutocomplete/AutocompleteList/AutocompleteList.module.scss","components/Error/Error.module.scss","state/user/userActions.ts","state/user/userTypes.ts","components/SearchAutocomplete/SearchAutocomplete.module.scss","components/SubmitSearchBtn/SubmitSearchBtn.module.scss","components/SearchAutocomplete/Button/Button.module.scss","components/SearchAutocomplete/Input/Input.module.scss","components/Loading/Loading.tsx","assets/error.svg","components/Error/Error.tsx","utils/containsNotAllowedChars.ts","utils/scrollTo.ts","utils/getHighlightedHTML.ts","components/SearchAutocomplete/SearchAutocomplete.tsx","components/SubmitSearchBtn/SubmitSearchBtn.tsx","components/SearchAutocomplete/Button/Button.tsx","components/SearchAutocomplete/Input/Input.tsx","components/SearchAutocomplete/AutocompleteList/AutocompleteList.tsx","App.tsx","api/index.ts","state/store.ts","index.tsx"],"names":["initialState","loading","users","error","reducer","state","action","type","USERS","FETCH_USERS_REQUEST","FETCH_USERS_SUCCESS","payload","FETCH_USERS_FAIL","rootReducer","combineReducers","user","userReducer","module","exports","fetchUsersRequest","dispatch","fetchUsersSuccess","fetchUsersFailure","Loading","className","styles","container","loader","loading_text","refresh","document","location","reload","Error","src","errorImg","img","alt","onClick","containsNotAllowedChars","text","letters","invalidChars","some","letter","includes","scrollTo","list","idx","current","currEl","childNodes","offsetTop","toInnerHTML","__html","getHighlightedHTML","wholeText","searchingText","regex","RegExp","hightlighted","replace","e","SearchAutocomplete","data","useState","setSearchingText","isPopupOpen","setisPopupOpen","searchByName","setSearchByName","curIdx","setCurIdx","userList","useRef","key","currentUsersList","filter","el","test","toogleSearchingKey","useCallback","prev","handleKeydown","len","length","activeElement","blur","useEffect","addEventListener","removeEventListener","search_container","onChange","target","value","togglePopup","isOpen","onBlur","resetInput","mouseLeave","ref","dataKey","mouseEnter","SubmitSearchBtn","memo","submit_btn","title","aria-label","Button","children","button","Input","hasFocus","sethasFocus","input","handleKeyDown","focus","click","handleFocus","handleBlur","placeholder","search_input","onFocus","AutocompleteList","forwardRef","search_list","style","overflowY","onMouseLeave","map","isCurrent","backgroundColor","color","list_element","onMouseEnter","dangerouslySetInnerHTML","id","no_result","App","useDispatch","useSelector","bindActionCreators","actionCreators","a","axios","get","response","message","fetchUsers","userNames","name","username","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"2JAUMA,EAA0B,CAC5BC,SAAS,EACTC,MAAO,GACPC,MAAO,MA0BIC,EAvBC,WAA2C,IAA1CC,EAAyC,uDAAjCL,EAAcM,EAAmB,uCACtD,OAAQA,EAAOC,MACX,KAAKC,IAAMC,oBACP,OAAO,2BACAJ,GADP,IAEIJ,SAAS,IAEjB,KAAKO,IAAME,oBACP,MAAO,CACHT,SAAS,EACTC,MAAOI,EAAOK,QACdR,MAAO,MAEf,KAAKK,IAAMI,iBACP,MAAO,CACHX,SAAS,EACTC,MAAO,GACPC,MAAOG,EAAOK,SAEtB,QAAS,OAAON,IC/BlBQ,EAAcC,YAAgB,CAChCC,KAAMC,IAGKH,O,mBCPfI,EAAOC,QAAU,CAAC,UAAY,2BAA2B,OAAS,wBAAwB,QAAU,yBAAyB,aAAe,gC,mBCA5ID,EAAOC,QAAU,CAAC,YAAc,sCAAsC,UAAY,oCAAoC,aAAe,yC,mBCArID,EAAOC,QAAU,CAAC,UAAY,yBAAyB,IAAM,qB,gCCD7D,wKAMaC,EAAoB,WAC7B,OAAO,SAACC,GAAD,OAAgCA,EAAS,CAC5Cb,KAAMC,IAAMC,wBAIPY,EAAoB,SAACnB,GAC9B,OAAO,SAACkB,GACJA,EAAS,CACLb,KAAMC,IAAME,oBACZC,QAAST,MAKRoB,EAAoB,SAACnB,GAC9B,OAAO,SAACiB,GACJA,EAAS,CACLb,KAAMC,IAAMI,iBACZD,QAASR,O,sDCzBhBK,G,SAAAA,K,0CAAAA,E,0CAAAA,E,qCAAAA,M,KAMUA,O,mBCLfS,EAAOC,QAAU,CAAC,iBAAmB,+C,mBCArCD,EAAOC,QAAU,CAAC,WAAa,sC,mBCA/BD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,8B,uICUlBK,EATC,kBACd,sBAAKC,UAAWC,IAAOC,UAAvB,UACE,qBAAKF,UAAWC,IAAOE,OAAvB,SACE,2BAEF,mBAAGH,UAAWC,IAAOG,aAArB,4B,iBCPW,MAA0B,kCCQnCC,EAAU,WACdC,SAASC,SAASC,UAYLC,EATe,SAAC,GAAD,IAAG9B,EAAH,EAAGA,MAAH,OAC5B,sBAAKqB,UAAWC,IAAOC,UAAvB,UACE,qBAAKQ,IAAKC,EAAUX,UAAWC,IAAOW,IAAKC,IAAI,UAC/C,mFACA,kCAAKlC,EAAL,OACA,wBAAQmC,QAAST,EAAjB,2B,gCCXWU,EANiB,SAACC,GAC7B,IAAMC,EAAO,YAAOD,GACdE,EAAe,CAAC,KAAM,IAAK,IAAK,KACtC,OAAOD,EAAQE,MAAK,SAAAC,GAAM,OAAIF,EAAaG,SAASD,OCKzCE,EARE,SAACC,EAAuCC,GACvD,GAAKD,EAAKE,QAAV,CAGA,IAAMC,EAASH,EAAKE,QAAQE,WAAWH,GACvCD,EAAKE,QAAQH,SAAS,EAAGI,EAAOE,aCL5BC,EAAc,SAACb,GAAD,MAAmB,CAAEc,OAAQd,IAclCe,EAZY,SAACC,EAAmBC,GAE3C,IAAKA,EACD,OAAOJ,EAAYG,GAGvB,IAAME,EAAQ,IAAIC,OAAOF,EAAe,KAClCG,EAAeJ,EAAUK,QAAQH,GAAO,SAAAI,GAAC,mBAAUA,EAAV,WAE/C,OAAOT,EAAYO,ICsHRG,EAtH6B,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAAW,EACdC,mBAAS,IADK,mBACjDR,EADiD,KAClCS,EADkC,OAElBD,oBAAS,GAFS,mBAEjDE,EAFiD,KAEpCC,EAFoC,OAGhBH,oBAAS,GAHO,mBAGjDI,EAHiD,KAGnCC,EAHmC,OAI5BL,mBAAwB,MAJI,mBAIjDM,EAJiD,KAIzCC,EAJyC,KAKlDC,EAAWC,iBAAuB,MAElCC,EAAMN,EAAe,OAAS,WAE9BX,EAAQ,IAAIC,OAAOF,EAAe,MAElCmB,EAAmBZ,EAAKa,QAAO,SAAAC,GAAE,OAAIpB,EAAMqB,KAAKD,EAAGH,OAEnDK,EAAqBC,uBAAY,WACrCX,GAAgB,SAAAY,GAAI,OAAKA,KACzBhB,EAAiB,MAChB,IAEGiB,EAAgBF,uBACpB,SAACnB,GACC,IAAMsB,EAAMR,EAAiBS,OAC7B,GAAKD,EAGL,OAAQtB,EAAEa,KACR,IAAK,UACEJ,GAIHzB,EAAS2B,EAAUF,EAAS,GAC5BC,GAAU,SAAAU,GAAI,OAAIA,EAAQ,OAJ1BV,EAAUY,EAAM,GAChBtC,EAAS2B,EAAUW,EAAM,IAK3B,MACF,IAAK,YACY,OAAXb,GAAmBA,IAAWa,EAAM,GACtCZ,EAAU,GACV1B,EAAS2B,EAAU,KAEnB3B,EAAS2B,EAAUF,EAAS,GAC5BC,GAAU,SAAAU,GAAI,OAAc,OAATA,EAAgBA,EAAO,EAAI,MAEhD,MACF,IAAK,QACH,GAAe,OAAXX,GAAmBA,GAAUa,EAC/B,OAEFlB,EAAiBU,EAAiBL,GAAQI,IAC1CP,GAAe,GAEdtC,SAASwD,cAA8BC,OACxC,MACF,QACE,UAIN,CAAChB,EAAQK,EAAkBD,IAG7Ba,qBAAU,WAOR,OANKrB,EAGHrC,SAAS2D,iBAAiB,UAAWN,GAFrCX,EAAU,MAKL,kBAAM1C,SAAS4D,oBAAoB,UAAWP,MACpD,CAAChB,EAAagB,EAAeZ,EAAQK,EAAkBD,IAuB1D,OACE,sBAAKnD,UAAWC,IAAOkE,iBAAvB,UACE,eAAC,EAAD,CAAQrD,QAAS0C,EAAjB,gBAAyCL,KAEzC,cAAC,EAAD,CACElB,cAAeA,EACfmC,SA3BoB,SAAC9B,GACzB,IAAMtB,EAAOsB,EAAE+B,OAAOC,MAElBvD,EAAwBC,KAER,MAATA,GACT0B,EAAiB1B,GAGnBgC,EAAU,MACVJ,GAAe,KAkBX2B,YAAa,SAACC,GAAD,OAAqB5B,EAAe4B,IACjDC,OAhBkB,kBACX,OAAX1B,GAAmBL,EAAiBU,EAAiBL,GAAQI,KAgBzDuB,WAAY,kBAAMhC,EAAiB,OAGpCC,GACC,cAAC,EAAD,CACEV,cAAeA,EACf0C,WApBiB,WACvB3B,EAAU,MACV1B,EAAS2B,EAAU,IAmBb1B,KAAM6B,EACNwB,IAAK3B,EACLF,OAAQA,EACR8B,QAAS1B,EACT2B,WAAY,SAACtD,GAAD,OAAiBwB,EAAUxB,U,iBCjHlCuD,EANSC,gBAAK,kBAC3B,wBAAQhF,UAAWC,IAAOgF,WAAYC,MAAM,SAASC,aAAW,SAAhE,SACE,mBAAGnF,UAAU,uB,iBCaFoF,EAXiBJ,gBAAK,gBAAGK,EAAH,EAAGA,SAAUvE,EAAb,EAAaA,QAAb,OACnC,wBACEd,UAAWC,IAAOqF,OAClBxE,QAASA,EACToE,MAAM,yBACNC,aAAW,yBAJb,SAMGE,O,iBC+CUE,EAlDe,SAAC,GAMxB,IALLtD,EAKI,EALJA,cACAmC,EAII,EAJJA,SACAG,EAGI,EAHJA,YACAE,EAEI,EAFJA,OACAC,EACI,EADJA,WACI,EAC4BjC,oBAAS,GADrC,mBACG+C,EADH,KACaC,EADb,KAEEC,EAAQxC,iBAAyB,MAEvCc,qBAAU,WACR,IAAM2B,EAAgB,SAACrD,GACD,IAAD,IAAL,MAAVA,EAAEa,MACJ,UAAAuC,EAAMjE,eAAN,SAAemE,QACf,UAAAF,EAAMjE,eAAN,SAAeoE,QACfnB,MAKJ,OAFApE,SAAS2D,iBAAiB,UAAW0B,GAE9B,kBAAMrF,SAAS4D,oBAAoB,UAAWyB,MACpD,CAACjB,IAEJ,IAAMoB,EAAcrC,uBAAY,WAC9Bc,GAAY,GACZkB,GAAY,KACX,CAAClB,IAEEwB,EAAatC,uBAAY,WAC7BgB,IACAF,GAAY,GACZkB,GAAY,KACX,CAAChB,EAAQF,IAEZ,OACE,uBACExF,KAAK,SACLiH,YAAaR,EAAW,mBAAqB,qBAC7CL,aAAW,SACXnF,UAAWC,IAAOgG,aAClBrB,IAAKc,EACLpB,MAAOrC,EACPmC,SAAUA,EACV8B,QAASJ,EACThF,QAASgF,EACTrB,OAAQsB,K,iBCFCI,EAvCqCC,sBAClD,WAEExB,GAFF,IACIrD,EADJ,EACIA,KAAMwB,EADV,EACUA,OAAQ+B,EADlB,EACkBA,WAAYD,EAD9B,EAC8BA,QAAS5C,EADvC,EACuCA,cAAe0C,EADtD,EACsDA,WADtD,OAIE,sBACEC,IAAKA,EACL5E,UAAWC,IAAOoG,YAClBC,MAAO,CAAEC,UAAWhF,EAAKsC,OAAS,EAAI,SAAW,QACjD2C,aAAc7B,EAJhB,UAMGpD,EAAKkF,KAAI,SAACjE,EAAMhB,GACf,IAAMkF,EAAYlF,IAAQuB,EACpB4D,EAAkBD,EAAY,UAAY,UAC1CE,EAAQF,EAAY,OAAS,UAEnC,OACE,qBAEEJ,MAAO,CAAEK,kBAAiBC,SAC1B5G,UAAWC,IAAO4G,aAClBC,aAAc,kBAAMhC,EAAWtD,IAJjC,SAME,qBACEuF,wBAAyBhF,EACvBS,EAAKqC,GACL5C,MARCO,EAAKwE,OAcC,IAAhBzF,EAAKsC,QACJ,qBAAK7D,UAAWC,IAAOgH,UAAvB,gC,wDCTOC,EA5BH,WACV,IAAMtH,EAAWuH,cADD,EAEkBC,aAAY,SAACvI,GAAD,OAAkBA,EAAMU,QAA9DZ,EAFQ,EAERA,MAAOD,EAFC,EAEDA,MAAOD,EAFN,EAEMA,QAMtB,GAJAuF,qBAAU,YCRc,SAACpE,GAAgC,IAAD,EAGtDyH,YAAmBC,iBAAgB1H,GAD7BE,EAFgD,EAEhDA,kBAAmBH,EAF6B,EAE7BA,kBAAmBE,EAFU,EAEVA,kBAG9CF,IAEO,sBAAC,8BAAA4H,EAAA,+EAEmBC,IAAMC,IAXlB,8CASP,OAEEC,EAFF,OAGEhJ,EAAQgJ,EAASlF,KACvB3C,EAAkBnB,GAJd,gDAMJoB,EAAkB,KAAM6H,SANpB,wDAAD,GDELC,CAAWhI,KACV,CAACA,IAEAnB,EACF,OAAO,cAAC,EAAD,IAGT,GAAIE,EACF,OAAO,cAAC,EAAD,CAAOA,MAAOA,IAGvB,IAAMkJ,EAA0BnJ,EAlB3B+H,KAAI,kBAA6B,CAAEO,GAA/B,EAAGA,GAAgCc,KAAnC,EAAOA,KAAkCC,SAAzC,EAAaA,aAoBtB,OACE,qBAAK/H,UAAU,MAAf,SACE,sBAAKA,UAAU,mBAAf,UACE,cAAC,EAAD,CAAoBwC,KAAMqF,IAC1B,cAAC,EAAD,U,gBEvBOG,EANDC,YACV5I,IACA,GACA6I,YAAgBC,MCCpBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUN,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJ1H,SAASiI,eAAe,U","file":"static/js/main.7bec5825.chunk.js","sourcesContent":["import USERS from \"./userTypes\";\r\nimport { UserApi } from \"types/UserApi\";\r\nimport { Action } from \"./actions_types\";\r\n\r\ninterface UserState {\r\n    loading: boolean;\r\n    users: UserApi[];\r\n    error: null | string\r\n}\r\n\r\nconst initialState: UserState = {\r\n    loading: true,\r\n    users: [],\r\n    error: null\r\n}\r\n\r\nconst reducer = (state = initialState, action: Action) => {\r\n    switch (action.type) {\r\n        case USERS.FETCH_USERS_REQUEST:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case USERS.FETCH_USERS_SUCCESS:\r\n            return {\r\n                loading: false,\r\n                users: action.payload,\r\n                error: null\r\n            }\r\n        case USERS.FETCH_USERS_FAIL:\r\n            return {\r\n                loading: false,\r\n                users: [],\r\n                error: action.payload\r\n            }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default reducer","import { combineReducers } from 'redux';\r\n\r\nimport userReducer from \"./user/userReducer\"\r\n\r\nconst rootReducer = combineReducers({\r\n    user: userReducer\r\n})\r\n\r\nexport default rootReducer;\r\n\r\nexport type State = ReturnType<typeof rootReducer>","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loading_container__ifAg_\",\"loader\":\"Loading_loader__1UNbf\",\"animate\":\"Loading_animate__2qxPQ\",\"loading_text\":\"Loading_loading_text__9XYnV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_list\":\"AutocompleteList_search_list__uGYHS\",\"no_result\":\"AutocompleteList_no_result__2BVWM\",\"list_element\":\"AutocompleteList_list_element__8qgfn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Error_container__1AtNj\",\"img\":\"Error_img__2A_an\"};","import USERS from \"./userTypes\"\r\nimport { Dispatch } from \"redux\";\r\nimport { Action } from \"./actions_types\";\r\nimport { UserApi } from \"types/UserApi\";\r\n\r\n\r\nexport const fetchUsersRequest = () => {\r\n    return (dispatch: Dispatch<Action>) => dispatch({\r\n        type: USERS.FETCH_USERS_REQUEST,\r\n    })\r\n}\r\n\r\nexport const fetchUsersSuccess = (users: UserApi[]) => {\r\n    return (dispatch: Dispatch<Action>) => {\r\n        dispatch({\r\n            type: USERS.FETCH_USERS_SUCCESS,\r\n            payload: users\r\n        })\r\n    }\r\n}\r\n\r\nexport const fetchUsersFailure = (error: string) => {\r\n    return (dispatch: Dispatch<Action>) => {\r\n        dispatch({\r\n            type: USERS.FETCH_USERS_FAIL,\r\n            payload: error\r\n        })\r\n    }\r\n}","enum USERS {\r\n    FETCH_USERS_REQUEST = 'FETCH_USERS_REQUEST',\r\n    FETCH_USERS_SUCCESS = 'FETCH_USERS_SUCCESS',\r\n    FETCH_USERS_FAIL = 'FETCH_USERS_FAIL'\r\n}\r\n\r\nexport default USERS","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_container\":\"SearchAutocomplete_search_container__1MphT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"submit_btn\":\"SubmitSearchBtn_submit_btn__32VYl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2x89E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_input\":\"Input_search_input__lpAlK\"};","import styles from \"./Loading.module.scss\";\r\n\r\nconst Loading = () => (\r\n  <div className={styles.container}>\r\n    <div className={styles.loader}>\r\n      <span></span>\r\n    </div>\r\n    <p className={styles.loading_text}>Loading...</p>\r\n  </div>\r\n);\r\n\r\nexport default Loading;\r\n","export default __webpack_public_path__ + \"static/media/error.532ea75d.svg\";","import { FC } from \"react\";\r\nimport styles from \"./Error.module.scss\";\r\nimport errorImg from \"assets/error.svg\";\r\n\r\ninterface ErrorProps {\r\n  error: string;\r\n}\r\n\r\nconst refresh = () => {\r\n  document.location.reload();\r\n};\r\n\r\nconst Error: FC<ErrorProps> = ({ error }) => (\r\n  <div className={styles.container}>\r\n    <img src={errorImg} className={styles.img} alt='Error' />\r\n    <h3> Sorry, We have an error. Please try again later.</h3>\r\n    <p> {error} </p>\r\n    <button onClick={refresh}> Refresh </button>\r\n  </div>\r\n);\r\n\r\nexport default Error;\r\n","const containsNotAllowedChars = (text: string) => {\r\n    const letters = [...text];\r\n    const invalidChars = [\"\\\\\", \"[\", \"]\", \"*\"];\r\n    return letters.some(letter => invalidChars.includes(letter));\r\n};\r\n\r\nexport default containsNotAllowedChars","const scrollTo = (list: React.RefObject<HTMLDivElement>, idx: number) => {\r\n  if (!list.current) {\r\n    return;\r\n  }\r\n  const currEl = list.current.childNodes[idx] as HTMLElement;\r\n  list.current.scrollTo(0, currEl.offsetTop);\r\n};\r\n\r\nexport default scrollTo","const toInnerHTML = (text: string) => ({ __html: text });\r\n\r\nconst getHighlightedHTML = (wholeText: string, searchingText: string) => {\r\n\r\n    if (!searchingText) {\r\n        return toInnerHTML(wholeText);\r\n    }\r\n\r\n    const regex = new RegExp(searchingText, \"i\");\r\n    const hightlighted = wholeText.replace(regex, e => `<b>${e}</b>`);\r\n\r\n    return toInnerHTML(hightlighted);\r\n};\r\n\r\nexport default getHighlightedHTML","// prettier-ignore\r\nimport React, {  useCallback, useRef, useState, useEffect, FC} from \"react\";\r\nimport styles from \"./SearchAutocomplete.module.scss\";\r\nimport { containsNotAllowedChars, scrollTo } from \"utils\";\r\nimport { Button, Input, AutocompleteList } from \"components\";\r\nimport { User } from \"types/UserApi\";\r\n\r\ninterface SearchProps {\r\n  data: User[];\r\n}\r\n\r\nconst SearchAutocomplete: FC<SearchProps> = ({ data }) => {\r\n  const [searchingText, setSearchingText] = useState(\"\");\r\n  const [isPopupOpen, setisPopupOpen] = useState(false);\r\n  const [searchByName, setSearchByName] = useState(true);\r\n  const [curIdx, setCurIdx] = useState<null | number>(null);\r\n  const userList = useRef<HTMLDivElement>(null);\r\n\r\n  const key = searchByName ? \"name\" : \"username\";\r\n\r\n  const regex = new RegExp(searchingText, \"gi\");\r\n\r\n  const currentUsersList = data.filter(el => regex.test(el[key]));\r\n\r\n  const toogleSearchingKey = useCallback(() => {\r\n    setSearchByName(prev => !prev);\r\n    setSearchingText(\"\");\r\n  }, []);\r\n\r\n  const handleKeydown = useCallback(\r\n    (e: KeyboardEvent) => {\r\n      const len = currentUsersList.length;\r\n      if (!len) {\r\n        return;\r\n      }\r\n      switch (e.key) {\r\n        case \"ArrowUp\":\r\n          if (!curIdx) {\r\n            setCurIdx(len - 1);\r\n            scrollTo(userList, len - 1);\r\n          } else {\r\n            scrollTo(userList, curIdx - 1);\r\n            setCurIdx(prev => prev! - 1);\r\n          }\r\n          break;\r\n        case \"ArrowDown\":\r\n          if (curIdx === null || curIdx === len - 1) {\r\n            setCurIdx(0);\r\n            scrollTo(userList, 0);\r\n          } else {\r\n            scrollTo(userList, curIdx + 1);\r\n            setCurIdx(prev => (prev !== null ? prev + 1 : 0));\r\n          }\r\n          break;\r\n        case \"Enter\":\r\n          if (curIdx === null || curIdx >= len) {\r\n            return;\r\n          }\r\n          setSearchingText(currentUsersList[curIdx][key]);\r\n          setisPopupOpen(false);\r\n\r\n          (document.activeElement as HTMLElement).blur();\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n    },\r\n\r\n    [curIdx, currentUsersList, key]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isPopupOpen) {\r\n      setCurIdx(null);\r\n    } else {\r\n      document.addEventListener(\"keydown\", handleKeydown);\r\n    }\r\n\r\n    return () => document.removeEventListener(\"keydown\", handleKeydown);\r\n  }, [isPopupOpen, handleKeydown, curIdx, currentUsersList, key]);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const text = e.target.value;\r\n\r\n    if (containsNotAllowedChars(text)) {\r\n      return;\r\n    } else if (text !== \"/\") {\r\n      setSearchingText(text);\r\n    }\r\n\r\n    setCurIdx(null);\r\n    setisPopupOpen(true);\r\n  };\r\n\r\n  const handleInputBlur = () =>\r\n    curIdx !== null && setSearchingText(currentUsersList[curIdx][key]);\r\n\r\n  const handleMouseLeave = () => {\r\n    setCurIdx(null);\r\n    scrollTo(userList, 0);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.search_container}>\r\n      <Button onClick={toogleSearchingKey}>By {key}</Button>\r\n\r\n      <Input\r\n        searchingText={searchingText}\r\n        onChange={handleInputChange}\r\n        togglePopup={(isOpen: boolean) => setisPopupOpen(isOpen)}\r\n        onBlur={handleInputBlur}\r\n        resetInput={() => setSearchingText(\"\")}\r\n      />\r\n\r\n      {isPopupOpen && (\r\n        <AutocompleteList\r\n          searchingText={searchingText}\r\n          mouseLeave={handleMouseLeave}\r\n          list={currentUsersList}\r\n          ref={userList}\r\n          curIdx={curIdx}\r\n          dataKey={key}\r\n          mouseEnter={(idx: number) => setCurIdx(idx)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchAutocomplete;\r\n","import { memo } from \"react\";\r\nimport styles from \"./SubmitSearchBtn.module.scss\";\r\n\r\nconst SubmitSearchBtn = memo(() => (\r\n  <button className={styles.submit_btn} title='Search' aria-label='Search'>\r\n    <i className='fas fa-search'></i>\r\n  </button>\r\n));\r\n\r\nexport default SubmitSearchBtn;\r\n","import { FC, memo } from \"react\";\r\nimport styles from \"./Button.module.scss\";\r\n\r\ninterface ButtonProps {\r\n  onClick: () => void;\r\n}\r\n\r\nconst Button: FC<ButtonProps> = memo(({ children, onClick }) => (\r\n  <button\r\n    className={styles.button}\r\n    onClick={onClick}\r\n    title='Toggle searching value'\r\n    aria-label='Toggle searching value'\r\n  >\r\n    {children}\r\n  </button>\r\n));\r\n\r\nexport default Button;\r\n","import { FC, useCallback, useEffect, useRef, useState } from \"react\";\r\nimport styles from \"./Input.module.scss\";\r\n\r\ninterface InputProps {\r\n  searchingText: string;\r\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  togglePopup: (isOpen: boolean) => void;\r\n  onBlur: () => void;\r\n  resetInput: () => void;\r\n}\r\n\r\nconst Input: FC<InputProps> = ({\r\n  searchingText,\r\n  onChange,\r\n  togglePopup,\r\n  onBlur,\r\n  resetInput,\r\n}) => {\r\n  const [hasFocus, sethasFocus] = useState(false);\r\n  const input = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === \"/\") {\r\n        input.current?.focus();\r\n        input.current?.click();\r\n        resetInput();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [resetInput]);\r\n\r\n  const handleFocus = useCallback(() => {\r\n    togglePopup(true);\r\n    sethasFocus(true);\r\n  }, [togglePopup]);\r\n\r\n  const handleBlur = useCallback(() => {\r\n    onBlur();\r\n    togglePopup(false);\r\n    sethasFocus(false);\r\n  }, [onBlur, togglePopup]);\r\n\r\n  return (\r\n    <input\r\n      type='search'\r\n      placeholder={hasFocus ? \"Search For Users\" : 'Press \"/\" to focus'}\r\n      aria-label='Search'\r\n      className={styles.search_input}\r\n      ref={input}\r\n      value={searchingText}\r\n      onChange={onChange}\r\n      onFocus={handleFocus}\r\n      onClick={handleFocus}\r\n      onBlur={handleBlur}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import { FC, forwardRef, LegacyRef } from \"react\";\r\nimport styles from \"./AutocompleteList.module.scss\";\r\nimport { getHighlightedHTML } from \"utils\";\r\nimport { User } from \"types/UserApi\";\r\n\r\ninterface AutocompleteListProps {\r\n  searchingText: string;\r\n  mouseLeave: () => void;\r\n  list: User[];\r\n  curIdx: number | null;\r\n  mouseEnter: (idx: number) => void;\r\n  dataKey: \"username\" | \"name\";\r\n  ref: any;\r\n}\r\n\r\nconst AutocompleteList: FC<AutocompleteListProps> = forwardRef(\r\n  (\r\n    { list, curIdx, mouseEnter, dataKey, searchingText, mouseLeave },\r\n    ref: LegacyRef<HTMLDivElement> | undefined\r\n  ) => (\r\n    <div\r\n      ref={ref}\r\n      className={styles.search_list}\r\n      style={{ overflowY: list.length > 3 ? \"scroll\" : \"auto\" }}\r\n      onMouseLeave={mouseLeave}\r\n    >\r\n      {list.map((data, idx) => {\r\n        const isCurrent = idx === curIdx;\r\n        const backgroundColor = isCurrent ? \"#cc98c7\" : \"#BC7DB6\";\r\n        const color = isCurrent ? \"#000\" : \"#424242\";\r\n\r\n        return (\r\n          <div\r\n            key={data.id}\r\n            style={{ backgroundColor, color }}\r\n            className={styles.list_element}\r\n            onMouseEnter={() => mouseEnter(idx)}\r\n          >\r\n            <div\r\n              dangerouslySetInnerHTML={getHighlightedHTML(\r\n                data[dataKey],\r\n                searchingText\r\n              )}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n      {list.length === 0 && (\r\n        <div className={styles.no_result}> No Results </div>\r\n      )}\r\n    </div>\r\n  )\r\n);\r\n\r\nexport default AutocompleteList;\r\n","import { useEffect } from \"react\";\nimport { Dispatch } from \"redux\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Error, Loading, SearchAutocomplete, SubmitBtn } from \"components\";\nimport { Action, State } from \"state\";\nimport { User, UserApi } from \"types/UserApi\";\nimport { fetchUsers } from \"api\";\n\nconst getUsersNames = (data: UserApi[]): User[] =>\n  data.map(({ id, name, username }) => ({ id, name, username }));\n\nconst App = () => {\n  const dispatch = useDispatch<Dispatch<Action>>();\n  const { error, users, loading } = useSelector((state: State) => state.user);\n\n  useEffect(() => {\n    fetchUsers(dispatch);\n  }, [dispatch]);\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  if (error) {\n    return <Error error={error} />;\n  }\n\n  const userNames = getUsersNames(users);\n\n  return (\n    <div className='app'>\n      <div className='search-container'>\n        <SearchAutocomplete data={userNames} />\n        <SubmitBtn />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import axios from \"axios\";\r\nimport { Dispatch, bindActionCreators } from \"redux\";\r\nimport { actionCreators, Action } from \"state\";\r\nimport { UserApi } from \"types/UserApi\";\r\n\r\nconst endpoint = \"https://jsonplaceholder.typicode.com/users\";\r\n\r\nexport const fetchUsers = (dispatch: Dispatch<Action>) => {\r\n\r\n  const { fetchUsersFailure, fetchUsersRequest, fetchUsersSuccess } =\r\n    bindActionCreators(actionCreators, dispatch);\r\n\r\n  fetchUsersRequest();\r\n\r\n  return (async () => {\r\n    try {\r\n      const response = await axios.get(endpoint);\r\n      const users = response.data as UserApi[];\r\n      fetchUsersSuccess(users);\r\n    } catch (error) {\r\n      fetchUsersFailure(error.message);\r\n    }\r\n  })();\r\n};\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    {},\r\n    applyMiddleware(thunk)\r\n)\r\n\r\nexport default store","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"state/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}